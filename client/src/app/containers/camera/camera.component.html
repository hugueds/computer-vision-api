<ng-container class="camera-container">
  <div class="navbar-wrapper">
    
      <span
        >TIPO DE LEITURA: {{ identifier?.typeString }} - MODELO:
        {{ instance?.name }}
      </span>      
    
  </div>

  <div class="instruction-wrapper">
    <div class="instruction">
      <span>{{ step.number + 1 }} INSTRUÇÃO: {{ step.name }}</span>
    </div>
    <div class="identifier">
      <span>IDENTIFICADOR: {{ identifier.value }} </span>
    </div>
  </div>

  <div class="camera-preview" [style.background]="preview.background">
    <div
      class="camera-card"
      [ngClass]="{ 'display-preview': cameraMode != CAMERA_MODE.BARCODE }"
    >
      <div class="barcode-wrapper">
        <div id="barcode"></div>
      </div>
    </div>

    <div
      class="camera-card"
      [ngClass]="{ 'display-preview': cameraMode != CAMERA_MODE.CAMERA }"
    >
      <video #video id="video" autoplay="true" ></video>
    </div>

    <div
      class="camera-control"
      [ngClass]="{ 'display-preview': cameraMode != CAMERA_MODE.CAMERA }"
    >
      <button mat-fab id="camera-button" (click)="takePicture()">
        <img class="camera-icon" src="assets/icons/camera.png" />
      </button>
    </div>

    <div
      class="camera-card"
      [ngClass]="{ 'display-preview': cameraMode != CAMERA_MODE.PREVIEW }"
    >
      <canvas #canvas id="canvas"></canvas>
    </div>
  </div>

  <div
    class="button-control"
    [ngClass]="{
      'display-preview': cameraMode != CAMERA_MODE.PREVIEW && !loading
    }"
  >
    <button
      mat-button
      color="primary"
      class="button-control--button button-control--button__notok"
      (click)="cancel()"
    >
      NOT OK
    </button>
    <button
      mat-button
      color="secondary"
      class="button-control--button button-control--button__ok"
      [disabled]="loading"
      (click)="classify()"
    >
      OK
    </button>
  </div>

  <div class="result-preview">
    <span>
      PREVIA: {{ preview?.label }} - {{ preview?.confidence.toFixed(2) * 100 }} %
    </span>
  </div>

  
  <div
    class="last-result"
    [ngClass]="{ 'display-preview': cameraMode == CAMERA_MODE.PREVIEW }"
  >
  
    <span>
      RESULTADO: {{ identifier?.lastValue }} {{ response?.content.result }} -
      {{ response?.content.confidence * 100 }}% - {{ 0 }}
    </span>
    <button mat-button>VER MAIS</button>
  </div>

</ng-container>
