<div class="camera-container">
  <div class="navbar-wrapper">
    <mat-toolbar class="navbar">
      <span>TIPO DE LEITURA: {{ instance?.typeString }} - MODELO:  {{ instance?.name }} </span>      
    </mat-toolbar>
  </div>

  <div>
    <span>{{ step.number + 1 }} INSTRUÇÃO: {{ step.name }}</span>
  </div>

  <div>
    <span style="font-size: 1rem; color: red;">IDENTIFICADOR: {{ identifier.value }}</span>
  </div>

  <div class="camera-preview">

    <div class="camera-card" [ngClass]="{ 'display-preview': displayPreview }">
      <video #video id="video" ></video>
    </div>

    <div class="camera-control">
      <button
        mat-fab
        [hidden]="displayPreview"
        id="button_1"
        (click)="takePicture()"
      >
        <mat-icon>camera</mat-icon>
      </button>
    </div>

    <div class="camera-card" [ngClass]="{ 'display-preview': !displayPreview }">
      <canvas #canvas id="canvas" ></canvas>
      <!-- <canvas #canvas id="canvas" width="640" height="480"></canvas> -->
    </div>

  </div>

  <div class="button-control" [ngClass]="{ 'display-preview': !displayPreview && !loading }">
    <button
      mat-button
      color="primary"
      class="button-control--notok"
      (click)="cancel()"
    >
      NOT OK
    </button>
    <button
      mat-button
      color="secondary"
      class="button-control--ok"
      (click)="classify()"
    >
      OK
    </button>
  </div>

  <!-- Buscar da API os ultimos resultados para este tipo de classificador -->
  <div class="last-result" [ngClass]="{ 'display-preview': displayPreview }">
    <span>
      ULTIMO RESULTADO: {{ response?.content.result }} -
      {{ response?.content.confidence * 100 }}% - {{ 0 }}
    </span>
    <button mat-button>VER MAIS</button>
  </div>
</div>
